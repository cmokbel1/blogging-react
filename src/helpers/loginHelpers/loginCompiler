import loginFunc from './loginFunc';

function LoginCompiler(props)  {
    document.getElementById('loginbutton').addEventListener('click', async function (event) {
    event.preventDefault()

    const { username, token } = await loginFunc({
      username: document.getElementById('inputUsername').value,
      password: document.getElementById('inputPassword').value,

    })
    console.log({ username, token })

    if (token) {
      localStorage.setItem('username', username)
      localStorage.setItem('token', token)
      window.location = '/'
    } else {
      alert('Invalid Username or Password. Please Try Again.')
    }
  })
}

export default LoginCompiler